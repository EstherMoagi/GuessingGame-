import random

def number_guessing_game():
    print("Welcome to the Number Guessing Game!")
    play_again = 'yes'

    while play_again.lower() == 'yes':
        # Select difficulty
        print("\nSelect difficulty level:")
        print("1. Easy (1-50)")
        print("2. Medium (1-100)")
        print("3. Hard (1-200)")

        difficulty = input("Enter difficulty (1/2/3): ")

        if difficulty == '1':
            secret_number = random.randint(1, 50)
            max_range = 50
        elif difficulty == '2':
            secret_number = random.randint(1, 100)
            max_range = 100
        elif difficulty == '3':
            secret_number = random.randint(1, 200)
            max_range = 200
        else:
            print("Invalid choice, defaulting to Medium difficulty.")
            secret_number = random.randint(1, 100)
            max_range = 100

        attempts = 0
        guessed_correctly = False

        print(f"\nI have selected a number between 1 and {max_range}. Try to guess it!")

        while not guessed_correctly:
            try:
                guess = int(input("Enter your guess: "))
                attempts += 1

                if guess < secret_number:
                    print("Too low! Try again.")
                elif guess > secret_number:
                    print("Too high! Try again.")
                else:
                    guessed_correctly = True
                    print(f"ðŸŽ‰ Congratulations! You guessed the number in {attempts} attempts.")

            except ValueError:
                print("Please enter a valid number.")

        play_again = input("\nDo you want to play again? (yes/no): ")

    print("Thank you for playing! Goodbye!")

if __name__ == "__main__":
    number_guessing_game()
